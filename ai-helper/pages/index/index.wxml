<!--é¦–é¡µ-->
<view class="container">
  <!-- æ¬¢è¿åŒºåŸŸ -->
  <view class="welcome-section">
    <view class="title">ğŸŒŸ AIè‹±è¯­å°åŠ©æ•™ ğŸŒŸ</view>
    <view class="subtitle">å’ŒAIè€å¸ˆä¸€èµ·å¿«ä¹å­¦è‹±è¯­ï¼</view>
    
    <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
    <view class="user-card card">
      <view class="flex flex-between">
        <view class="user-info">
          <image class="avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
          <view class="user-details">
            <view class="username">{{userInfo.nickName || 'å°æœ‹å‹'}}</view>
            <view class="age-info">{{childAge}}å² Â· {{difficultyText}}</view>
          </view>
        </view>
        <view class="level-badge">
          <view class="level">{{currentLevel}}</view>
          <view class="level-text">ç­‰çº§</view>
        </view>
      </view>
    </view>
  </view>

  <!-- ä»Šæ—¥å­¦ä¹ è¿›åº¦ -->
  <view class="progress-section card">
    <view class="section-title">
      <text class="icon">ğŸ“Š</text>
      <text>ä»Šæ—¥å­¦ä¹ è¿›åº¦</text>
    </view>
    <view class="progress-stats">
      <view class="stat-item">
        <view class="stat-number">{{todayPractice}}</view>
        <view class="stat-label">ç»ƒä¹ æ¬¡æ•°</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{streak}}</view>
        <view class="stat-label">è¿ç»­å¤©æ•°</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{totalScore}}</view>
        <view class="stat-label">æ€»åˆ†æ•°</view>
      </view>
    </view>
    <view class="progress-bar">
      <view class="progress-fill" style="width: {{progressPercentage}}%"></view>
    </view>
    <view class="progress-text">ä»Šæ—¥ç›®æ ‡ï¼šå®Œæˆ5æ¬¡ç»ƒä¹ </view>
  </view>

  <!-- å¿«é€Ÿå¼€å§‹ -->
  <view class="quick-start-section">
    <view class="section-title">
      <text class="icon">ğŸš€</text>
      <text>å¿«é€Ÿå¼€å§‹</text>
    </view>
    
    <view class="action-grid">
      <view class="action-card primary-card" bindtap="startVoiceChat">
        <view class="action-icon">ğŸ¤</view>
        <view class="action-title">è¯­éŸ³å¯¹è¯</view>
        <view class="action-desc">å’ŒAIè€å¸ˆèŠå¤©</view>
        <view class="action-badge" wx:if="{{autoVoiceEnabled}}">è‡ªåŠ¨æ¨¡å¼</view>
      </view>
      
      <view class="action-card" bindtap="startAutoVoiceChat">
        <view class="action-icon">ğŸ¤–</view>
        <view class="action-title">AIä¸»åŠ¨èŠå¤©</view>
        <view class="action-desc">è®©AIä¸»åŠ¨å‘èµ·å¯¹è¯</view>
      </view>
      
      <view class="action-card" bindtap="startVocabulary">
        <view class="action-icon">ğŸ“š</view>
        <view class="action-title">å•è¯å­¦ä¹ </view>
        <view class="action-desc">å­¦ä¹ æ–°å•è¯</view>
      </view>
      
      <view class="action-card" bindtap="startStory">
        <view class="action-icon">ğŸ“–</view>
        <view class="action-title">æ•…äº‹æ—¶é—´</view>
        <view class="action-desc">å¬è‹±è¯­æ•…äº‹</view>
      </view>
      
      <view class="action-card" bindtap="startGame">
        <view class="action-icon">ğŸ®</view>
        <view class="action-title">è¶£å‘³æ¸¸æˆ</view>
        <view class="action-desc">è¾¹ç©è¾¹å­¦</view>
      </view>
    </view>
  </view>

  <!-- å­¦ä¹ æˆå°± -->
  <view class="achievement-section card">
    <view class="section-title">
      <text class="icon">ğŸ†</text>
      <text>å­¦ä¹ æˆå°±</text>
    </view>
    
    <view class="achievement-list">
      <view class="achievement-item {{achievement.unlocked ? 'unlocked' : 'locked'}}" 
            wx:for="{{achievements}}" wx:key="id">
        <view class="achievement-icon">{{achievement.icon}}</view>
        <view class="achievement-info">
          <view class="achievement-name">{{achievement.name}}</view>
          <view class="achievement-desc">{{achievement.description}}</view>
        </view>
        <view class="achievement-status">
          <text wx:if="{{achievement.unlocked}}">âœ…</text>
          <text wx:else>{{achievement.progress}}/{{achievement.target}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æ¯æ—¥ä¸€å¥ -->
  <view class="daily-sentence card">
    <view class="section-title">
      <text class="icon">ğŸ’¬</text>
      <text>æ¯æ—¥ä¸€å¥</text>
    </view>
    <view class="sentence-content">
      <view class="sentence-en">{{dailySentence.english}}</view>
      <view class="sentence-zh">{{dailySentence.chinese}}</view>
      <view class="sentence-tip">{{dailySentence.tip}}</view>
    </view>
    <button class="btn-secondary" bindtap="playSentence">ğŸ”Š å¬å‘éŸ³</button>
  </view>
</view>

<!-- åº•éƒ¨æ“ä½œæ  -->
<view class="bottom-actions">
  <button class="btn-primary main-action" bindtap="startVoiceChat">
    <text class="icon">ğŸ¤</text>
    <text>å¼€å§‹è¯­éŸ³å¯¹è¯</text>
  </button>
</view>
